<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Daily Bible Verse</title>
</head>

<body>
    <div id="verse-container">
        <h2>Daily Bible Verse</h2>
        <p id="verse-content"></p>
    </div>

    <script>
        const API_KEY = 'ed1888c4b947db2e13d6acab4841fbd06340115b';

        function fetchBiblePassage() {
            const verseElement = document.getElementById("verse-content");

            fetch('https://api.esv.org/v3/passage/text/?q=Psalm+107:1', {
                headers: {
                    'Authorization': `Token ${API_KEY}`
                }
            })
                .then(response => response.json())
                .then(data => {
                    const verseContent = extractVerseContent(data.passages[0]); // Extract the clean verse content
                    const verseReference = data.canonical; // Get the verse reference from the API response
                    const formattedText = `"${verseContent}" - ${verseReference} ESV`;
                    verseElement.textContent = formattedText;
                })
                .catch(error => {
                    console.error('Error fetching ESV passage:', error);
                    verseElement.textContent = "An error occurred while fetching the passage.";
                });
        }

        // Function to extract only the verse content without additional information
        function extractVerseContent(verse) {
            const startIndex = verse.indexOf(' '); // Find the first space character
            if (startIndex !== -1) {
                return verse.substring(startIndex).trim(); // Return the content after the first space
            }
            return verse; // Return the original text if extraction doesn't work as expected
        }

        // Call the function to fetch the Bible passage when the page loads
        fetchBiblePassage();

    </script>
</body>

</html>